<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clips & Profiles Analytics Dashboard</title>

    <!-- Load the Tailwind CSS library for a modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Load the Chart.js library to create dynamic charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      body {
        font-family: 'Inter', sans-serif;
      }
      /* Custom styles for the cards and layout */
      .card {
        @apply bg-white rounded-xl shadow-lg p-6 border border-gray-200;
      }
      .card-header {
        @apply flex flex-row items-center justify-between pb-4 mb-4 border-b border-gray-200;
      }
      .card-title {
        @apply text-lg font-bold text-gray-900;
      }
      .stats-card {
        @apply bg-white p-6 rounded-xl shadow-md flex items-center justify-between border border-gray-200;
      }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased min-h-screen p-4 sm:p-8">
    <div class="container mx-auto max-w-7xl">
        <header class="mb-8">
            <img
                src="https://placehold.co/1200x200/059669/ffffff?text=Data+Visualization+Dashboard"
                alt="A professional data visualization banner"
                class="w-full h-48 object-cover rounded-xl shadow-lg"
            />
            <div class="mt-8 text-center">
                <h1 class="text-4xl font-extrabold text-gray-900">
                    Clips & Profiles Analytics
                </h1>
                <p class="mt-2 text-lg text-gray-500">
                    Comprehensive overview of content performance
                </p>
            </div>
        </header>

        <!-- Key Metrics Section -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
            <div class="stats-card">
                <div>
                    <h3 class="text-sm font-semibold text-gray-500 uppercase">Total Clips</h3>
                    <p class="mt-1 text-2xl font-bold text-gray-900">1,333</p>
                </div>
                <div class="text-emerald-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 18a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h4l2 3h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2z" /></svg>
                </div>
            </div>
            <div class="stats-card">
                <div>
                    <h3 class="text-sm font-semibold text-gray-500 uppercase">Total Profiles</h3>
                    <p class="mt-1 text-2xl font-bold text-gray-900">45</p>
                </div>
                <div class="text-emerald-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" /><circle cx="9" cy="7" r="4" /><path d="M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75" /></svg>
                </div>
            </div>
            <div class="stats-card">
                <div>
                    <h3 class="text-sm font-semibold text-gray-500 uppercase">Total Views</h3>
                    <p class="mt-1 text-2xl font-bold text-gray-900">3.3M</p>
                </div>
                <div class="text-emerald-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z" /><circle cx="12" cy="12" r="3" /></svg>
                </div>
            </div>
            <div class="stats-card">
                <div>
                    <h3 class="text-sm font-semibold text-gray-500 uppercase">Watched Clicks</h3>
                    <p class="mt-1 text-2xl font-bold text-gray-900">38,325</p>
                </div>
                <div class="text-emerald-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12" /></svg>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12">
            <!-- Top 10 Total Views Chart -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Top 10 Profiles by Total Views</h2>
                </div>
                <canvas id="topViewsChart"></canvas>
            </div>
            <!-- Average Views Per Clip Chart -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Average Views Per Clip</h2>
                </div>
                <canvas id="avgViewsChart"></canvas>
            </div>
            <!-- Top 10 Watched Clicks Chart -->
            <div class="card lg:col-span-2">
                <div class="card-header">
                    <h2 class="card-title">Top 10 Profiles by Watched Clicks</h2>
                </div>
                <canvas id="watchedClicksChart"></canvas>
            </div>
        </div>

        <!-- Tables Section - back to back -->
        <!-- Top 10 Profiles by Total Views Table -->
        <div class="card mb-6">
            <div class="card-header">
                <h2 class="card-title">Top 10 Profiles by Total Views</h2>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200 text-sm">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">#</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Title</th>
                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Clips</th>
                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Views</th>
                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Watched Clicks</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <!-- Top 10 data from the original list -->
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">1</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Leyla</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">108</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">1,283,406</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">19,508</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">2</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Fareed Season 3</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">39</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">325,314</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">5,005</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">3</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Zawja Waheda La Takfi Season 1</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">30</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">135,782</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">997</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">4</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Al Ameel</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">39</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">114,719</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">1,373</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">5</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Qalam Rasas Season 1</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">19</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">113,806</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">804</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">6</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Min Shareâ€™ Al Haram Ela... Season 1</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">52</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">107,690</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">760</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">7</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Kollona Iyal Qrayya</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">32</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">90,011</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">462</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">8</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Haq Arab Season 1</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">15</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">88,055</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">520</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">9</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Al Qadar</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">44</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">86,075</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">600</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">10</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">Banat Al Thanawi</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">38</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">74,535</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">682</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- New location for Bottom 10 Profiles by Total Views Chart -->
        <div class="card mb-6">
            <div class="card-header">
                <h2 class="card-title">Bottom 10 Profiles by Total Views</h2>
            </div>
            <canvas id="bottomViewsChart"></canvas>
        </div>

        <!-- Bottom 10 Profiles by Total Views Table -->
        <div class="card mb-12">
            <div class="card-header">
                <h2 class="card-title">Bottom 10 Profiles by Total Views</h2>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200 text-sm">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">#</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Title</th>
                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Clips</th>
                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Views</th>
                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Watched Clicks</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <!-- Updated data for the bottom 10 profiles -->
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">1</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Ragel We Set Settat Season 1</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">30</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">13,708</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">154</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">2</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Wlad Badee'a Season 1</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">32</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">13,158</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">82</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">3</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Top Chef Season 8</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">5</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">11,421</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">118</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">4</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Horouj</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">13</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">11,400</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">113</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">5</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">The Master</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">12</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">9,590</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">94</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">6</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Gamgoum Wa Bimbim: Al Sharika Al Almaniya Li Mokafahat Al Khawareq</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">5</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">4,657</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">64</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">7</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Taj</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">5</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">2,992</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">11</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">8</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Tash: Al Awda Season 19</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">16</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">2,108</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">14</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">9</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">El Atawla</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">3</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">1,805</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">48</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">10</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500">Aa Amal Season 1</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">3</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">542</td>
                            <td class="px-6 py-4 whitespace-nowrap text-gray-500 text-right">7</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- New card for Insights and Analysis -->
        <div class="card mb-12">
            <h2 class="text-xl font-bold text-gray-900 border-b border-gray-200 pb-4 mb-4">Strategy and Insights</h2>

            <h3 class="text-lg font-semibold text-gray-800 mt-6 mb-2">The Big Picture</h3>
            <p class="text-sm text-gray-600 mb-4">
                "Layla" is an absolute beast. It's so far ahead of everything else that it's in a league of its own for views and clicks. The other top titles are doing okay, but there's a huge cliff between the top 10 and the bottom 10. The stuff at the bottom just isn't getting seen or clicked, so we need to figure out why. We should focus on what makes the big hits work and stop wasting time on the flops.
            </p>

            <h3 class="text-lg font-semibold text-gray-800 mt-6 mb-2">What's Working (The Top Titles)</h3>
            <ul class="list-disc list-inside text-sm text-gray-600 ml-4">
                <li class="mb-2">
                    Layla is Insane: With over 1.28 million views and 19,508 clicks, "Layla" is a massive success. This one title is driving a ton of our traffic. We need to study it to understand what's connecting with people.
                </li>
                <li class="mb-2">
                    Views vs. Clicks are Weird: Some titles like "Fareed Season 3" get a lot of views, but their clicks aren't as high as "Layla's" when you compare them. This means people are watching the clips, but "Layla" is doing a better job of making them want to watch the whole thing.
                </li>
                <li class="mb-2">
                    More Clips Don't Always Mean More Views: "Min Shareâ€™ Al Haram Ela... Season 1" has 52 clips, but titles with fewer clips like "Fareed Season 3" have way more views. This proves it's not about how many clips you make, but how good they are.
                </li>
            </ul>

            <h3 class="text-lg font-semibold text-gray-800 mt-6 mb-2">What's Not Working (The Bottom Titles)</h3>
            <p class="text-sm text-gray-600 mb-2">
                The bottom 10 is in rough shape.
            </p>
            <ul class="list-disc list-inside text-sm text-gray-600 ml-4">
                <li class="mb-2">
                    Nobody's Watching: The views drop off a cliff. The last place title, "Aa Amal Season 1," only has 542 views. That's a huge problem.
                </li>
                <li class="mb-2">
                    Nobody's Clicking: Engagement is a joke. "Aa Amal Season 1" has only 7 clicks. The content isn't grabbing anyone enough to make them want to see more.
                </li>
                <li class="mb-2">
                    We're Wasting Time: Titles like "Wlad Badee'a Season 1" have 32 clips but very few views. The effort to make those clips is being wasted because nobody is watching them.
                </li>
            </ul>

            <h3 class="text-lg font-semibold text-gray-800 mt-6 mb-2">My Suggestions</h3>
            <p class="text-sm text-gray-600 mb-2">
                Here's what we should do next:
            </p>
            <ol class="list-decimal list-inside text-sm text-gray-600 ml-4">
                <li class="mb-2">
                    Figure out what makes "Layla" so good. Let's break down its best clips. What are the key moments? Can we copy that for other shows? This is our biggest opportunity.
                </li>
                <li class="mb-2">
                    Stop making so many clips. For new content, let's make fewer, better clips. We should test a few different kinds of clips to see which ones get the most clicks before we go all in.
                </li>
                <li class="mb-2">
                    Promote the clips that suck. The low-performing titles aren't getting seen. We need to try new ways to promote them, maybe on social media or by showing them next to our popular content.
                </li>
                <li class="mb-2">
                    Keep an eye on the numbers. Let's start tracking this stuff in real-time. If a new title is a flop early on, we should know right away so we can change our strategy instead of just making more clips that no one watches.
                </li>
            </ol>
            <p class="text-sm text-gray-600 mt-4">
                We need to be smarter about our content, learn from our big wins, and stop throwing clips at the wall to see what sticks.
            </p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Data for charts
            const topProfilesData = [
                { title: 'Leyla', clips: 108, views: 1283406, watchedClicks: 19508 },
                { title: 'Fareed Season 3', clips: 39, views: 325314, watchedClicks: 5005 },
                { title: 'Zawja Waheda La Takfi Season 1', clips: 30, views: 135782, watchedClicks: 997 },
                { title: 'Al Ameel', clips: 39, views: 114719, watchedClicks: 1373 },
                { title: 'Qalam Rasas Season 1', clips: 19, views: 113806, watchedClicks: 804 },
                { title: 'Min Shareâ€™ Al Haram Ela... Season 1', clips: 52, views: 107690, watchedClicks: 760 },
                { title: 'Kollona Iyal Qrayya', clips: 32, views: 90011, watchedClicks: 462 },
                { title: 'Haq Arab Season 1', clips: 15, views: 88055, watchedClicks: 520 },
                { title: 'Al Qadar', clips: 44, views: 86075, watchedClicks: 600 },
                { title: 'Banat Al Thanawi', clips: 38, views: 74535, watchedClicks: 682 },
            ];

            const bottomProfilesData = [
                { title: "Ragel We Set Settat Season 1", clips: 30, views: 13708, watchedClicks: 154 },
                { title: "Wlad Badee'a Season 1", clips: 32, views: 13158, watchedClicks: 82 },
                { title: "Top Chef Season 8", clips: 5, views: 11421, watchedClicks: 118 },
                { title: "Horouj", clips: 13, views: 11400, watchedClicks: 113 },
                { title: "The Master", clips: 12, views: 9590, watchedClicks: 94 },
                { title: "Gamgoum Wa Bimbim: Al Sharika Al Almaniya Li Mokafahat Al Khawareq", clips: 5, views: 4657, watchedClicks: 64 },
                { title: "Taj", clips: 5, views: 2992, watchedClicks: 11 },
                { title: "Tash: Al Awda Season 19", clips: 16, views: 2108, watchedClicks: 14 },
                { title: "El Atawla", clips: 3, views: 1805, watchedClicks: 48 },
                { title: "Aa Amal Season 1", clips: 3, views: 542, watchedClicks: 7 },
            ];

            // Chart 1: Top 10 Profiles by Total Views
            const topViewsData = {
                labels: topProfilesData.map(p => p.title),
                datasets: [{
                    label: 'Total Views',
                    data: topProfilesData.map(p => p.views),
                    backgroundColor: 'rgba(79, 70, 229, 0.8)',
                    borderColor: 'rgb(79, 70, 229)',
                    borderWidth: 1
                }]
            };
            
            // New Chart: Bottom 10 Profiles by Total Views
            const bottomViewsData = {
                labels: bottomProfilesData.map(p => p.title),
                datasets: [{
                    label: 'Total Views',
                    data: bottomProfilesData.map(p => p.views),
                    backgroundColor: 'rgba(239, 68, 68, 0.8)', // Using a red color for the bottom profiles
                    borderColor: 'rgb(239, 68, 68)',
                    borderWidth: 1
                }]
            };

            // Chart 2: Average Views Per Clip
            const avgViewsData = {
                labels: topProfilesData.map(p => p.title),
                datasets: [{
                    label: 'Average Views per Clip',
                    data: topProfilesData.map(p => Math.round(p.views / p.clips)),
                    backgroundColor: 'rgba(5, 150, 105, 0.8)',
                    borderColor: 'rgb(5, 150, 105)',
                    borderWidth: 1
                }]
            };

            // Chart 3: Top 10 Profiles by Watched Clicks
            const watchedClicksData = {
                labels: topProfilesData.map(p => p.title),
                datasets: [{
                    label: 'Watched Clicks',
                    data: topProfilesData.map(p => p.watchedClicks),
                    backgroundColor: 'rgba(245, 158, 11, 0.8)',
                    borderColor: 'rgb(245, 158, 11)',
                    borderWidth: 1
                }]
            };

            // Common chart configuration for vertical bar charts
            const verticalBarChartConfig = (data) => ({
                type: 'bar',
                data: data,
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false,
                        },
                        title: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += context.parsed.y.toLocaleString();
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value, index, values) {
                                    if (value >= 1000) {
                                        return (value / 1000).toLocaleString() + 'k';
                                    }
                                    return value.toLocaleString();
                                }
                            }
                        }
                    },
                },
            });

            // Render the charts with checks to prevent the error
            const topViewsCtx = document.getElementById('topViewsChart');
            if (topViewsCtx) {
                new Chart(topViewsCtx, verticalBarChartConfig(topViewsData));
            }
            
            const bottomViewsCtx = document.getElementById('bottomViewsChart');
            if (bottomViewsCtx) {
                new Chart(bottomViewsCtx, verticalBarChartConfig(bottomViewsData));
            }

            const avgViewsCtx = document.getElementById('avgViewsChart');
            if (avgViewsCtx) {
                new Chart(avgViewsCtx, verticalBarChartConfig(avgViewsData));
            }

            const watchedClicksCtx = document.getElementById('watchedClicksChart');
            if (watchedClicksCtx) {
                new Chart(watchedClicksCtx, verticalBarChartConfig(watchedClicksData));
            }
        });
    </script>
</body>
</html>
